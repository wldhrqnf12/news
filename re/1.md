# CORS 
Cross Origin Resource Sharing(방어막)
<br>다른곳에서 가져오는 리소스가 안전하다는 최소한의 보장을 받을수 있는 것 

### Cross : 다른 출처
### Origin:
 Protocol, Host 와 포트 번호를 합친 것을 의미
         서버의 위치를 찾아가기 위해 필요한 가장 기본적인 것들을 합쳐놓은 것

#### EX ) https://ww.evan-moon.com/users?sort=asc&page=1#foo

1. Protocol =  https://
1. Host = www.evan-moon.com
1. Path = /users
1. Query string = ?sort=asc&page=1
1. Frogment = #foo

### Resource 
### Sharing


CORS 동작 방법(3가지 방법)

웹 클라이언트 어플리케이션이 다른출처의 리소스를 요청할 때 HTTP프로토콜을 사용하여
요청을 보내게 되는데, 이때 브라우저는 요청 헤던에 Origin이라는 필드에 요청을 보낸는 출처를 함께 담아보낸다.
이후 서버가 이요청에 대한 응답을 할 때 헤더의 Access-Control-Allow-Origin이라는 값에 
"이 리소스를 접근하는 것이 허용된 출처를" 내려주고, 이후 응답을 받은 브라우저는 자신이 
보냈던 요청의 Origin 과 서버가 보내준 응답 Access-Control-Allow-Origin을 비교한뒤
이 응당이 유효한 응답인 아닌지를 결정한다.

프리플라이트(Preflight)방식 (예비 요청)
 웹 어플리케이션을 개발 할때 가장 마주치는 시나리오이다. 이 시나리오에 해당하는 상황일 때 브라우저는 요청을 한번에 보내지 않고 예비 요청과 본 요청으로 나누어서 서버로 전송한다. 
이때 브라우저가 본요청을 보내기 전에 보내는 예비요청과 본요청으로 나누어서 서보로 전송한다. 이때 브라우저가 본요청을 보내기 전에 보내는 예비요청을 Preflight라 부른다.
예비요청에는 HTTP 메소드 중 OPTIONS 메소드가 사용된다.

역활: 본요청을 보내기 전에 브라우저 스스로 이 요청을 보내는 것이 안전한지 확인 

자바스크립트의 fetch API를 사용하여 브라우저에게 리소스를 받아오라는 명령을 내리면 브라우저는 서버에게 예비 요청을 먼저 보내고, 서버는 이 예비 요청에 대한 응답으로 현재 자신이 어떤 것들을 허용하고, 어떤 것들을 금지하고 있는지에 대한
정보를 응답 헤더에 담아서 브라우저에게 다시보내주게 된다. 이후 브라우저는 자신이 보낸 예비 요청과 서버가 응답에 담아준 허용 정책을 비교한 후, 이 요청을 보내는 것이 안전하다고 판단되면 같은 엔트포인트로 다시 본 요청을 보내게 된다. 이후 서버가
이 본 요청에 대한 응답을 하면 브라우저는 최정적으로 이 응답 데이터를 자바스크립트에게 넘겨준다.
# sop
